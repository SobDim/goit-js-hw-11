{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/js/izi-toast-options.js","../src/js/main.js"],"sourcesContent":["const API_KEY = '42782608-9283e0435a58714aa19763cda';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getPhotos(q, page) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page,\n    per_page: 20,\n  });\n  const url = `${BASE_URL}/?${params}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\ngetPhotos('tree', 1)\n  .then(res => console.log(res.hits))\n  .catch(error => console.log(error.message));\n","export function createMarkup(arr) {\n  return arr\n    .map(({ webformatURL, tags }) => {\n      return ` <li class=\"gallery-item data-tilt\" > \n              <a class=\"gallery-link\" href=\"${webformatURL}\">\n              <img\n                class=\"gallery-image\"\n                src=\"${webformatURL}\"\n                alt=\"${tags}\"\n              />\n            </a>\n          </li>`;\n    })\n    .join('');\n}\n","const errorMsg = {\n  message:\n    'Sorry, there are no images matching  your search query. Please, try again!',\n  messageSize: '16',\n  messageLineHeight: '24',\n  iconUrl: './img/error.svg',\n  backgroundColor: 'rgb(239, 64, 64)',\n  messageColor: 'rgb(255, 255, 255)',\n  titleColor: 'rgb(255, 255, 255)',\n  position: 'topRight',\n  close: 'rgb(255, 255, 255)',\n  maxWidth: '432px',\n};\n\nconst okMsg = {\n  title: 'Ok',\n  iconUrl: './img/ok.svg',\n  backgroundColor: 'rgb(89, 161, 13)',\n  messageColor: 'rgb(255, 255, 255)',\n  titleColor: 'rgb(255, 255, 255)',\n  position: 'topRight',\n  close: 'rgb(255, 255, 255)',\n};\n\nconst warningMsg = {\n  title: 'Caution',\n  message: 'You forgot important data',\n  iconUrl: './img/warning.svg',\n  backgroundColor: 'rgb(255, 160, 0)',\n  messageColor: 'rgb(255, 255, 255)',\n  titleColor: 'rgb(255, 255, 255)',\n  position: 'center',\n  close: 'rgb(255, 255, 255)',\n};\n\nconst hello = {\n  title: 'Hello',\n  message: 'Welcome!',\n\n  iconUrl: './img/bell.svg',\n  backgroundColor: 'rgb(0, 153, 255)',\n  messageColor: 'rgb(255, 255, 255)',\n  titleColor: 'rgb(255, 255, 255)',\n  position: 'center',\n  close: 'rgb(255, 255, 255)',\n};\n\nexport { errorMsg, okMsg, warningMsg, hello };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// import VanillaTilt from 'vanilla-tilt';\n\nimport { getPhotos } from './pixabay-api';\nimport { createMarkup } from './render-functions';\nimport { errorMsg, okMsg, warningMsg, hello } from './izi-toast-options';\n\nconst searchForm = document.querySelector('.js-search-form');\nconst gallery = document.querySelector('.js-gallery');\nconst input = searchForm.querySelector('.js-input');\n\nlet searchQ;\nlet pages = 1;\n\nsearchForm.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  gallery.innerHTML = '';\n\n  searchQ = e.currentTarget.elements['user-search-q'].value.trim();\n\n  if (!searchQ) return iziToast.error(errorMsg);\n\n  getPhotos(searchQ, pages)\n    .then(res => {\n      if (res.hits.length === 0) {\n        iziToast.error(errorMsg);\n        return;\n      }\n\n      alert(`We found ${res.total} photos`);\n      gallery.innerHTML = createMarkup(res.hits);\n    })\n    .catch(console.log);\n\n  e.currentTarget.reset();\n}\n\ninput.addEventListener('focus', () => {\n  input.removeAttribute('placeholder');\n});\ninput.addEventListener('blur', () => {\n  input.setAttribute('placeholder', 'Search images...');\n});\n\n//     ulEl.innerHTML = createMarkup(res.results);\n//     if (res.total < perPage) {\n//       loadMoreBtnHide();\n//     } else {\n//       loadMoreBtnShow();\n//     }\n//   })\n//   .catch(console.log)\n//   .finally(() => spinnerStop());\n\n// e.currentTarget.reset();\n"],"names":["API_KEY","BASE_URL","getPhotos","q","page","params","url","res","error","createMarkup","arr","webformatURL","tags","errorMsg","searchForm","gallery","input","searchQ","pages","onFormSubmit","e","iziToast"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAUC,EAAGC,EAAM,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAAG,EACA,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACd,CAAG,EACKE,EAAM,GAAGL,CAAQ,KAAKI,CAAM,GAElC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CACAL,EAAU,OAAQ,CAAC,EAChB,KAAKK,GAAO,QAAQ,IAAIA,EAAI,IAAI,CAAC,EACjC,MAAMC,GAAS,QAAQ,IAAIA,EAAM,OAAO,CAAC,ECxBrC,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IAAI,CAAC,CAAE,aAAAC,EAAc,KAAAC,KACb;AAAA,8CACiCD,CAAY;AAAA;AAAA;AAAA,uBAGnCA,CAAY;AAAA,uBACZC,CAAI;AAAA;AAAA;AAAA,gBAItB,EACA,KAAK,EAAE,CACZ,CCdA,MAAMC,EAAW,CACf,QACE,6EACF,YAAa,KACb,kBAAmB,KACnB,QAAS,kBACT,gBAAiB,mBACjB,aAAc,qBACd,WAAY,qBACZ,SAAU,WACV,MAAO,qBACP,SAAU,OACZ,ECDMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAQF,EAAW,cAAc,WAAW,EAElD,IAAIG,EACAC,EAAQ,EAEZJ,EAAW,iBAAiB,SAAUK,CAAY,EAElD,SAASA,EAAaC,EAAG,CAOvB,GANAA,EAAE,eAAc,EAEhBL,EAAQ,UAAY,GAEpBE,EAAUG,EAAE,cAAc,SAAS,eAAe,EAAE,MAAM,OAEtD,CAACH,EAAS,OAAOI,EAAS,MAAMR,CAAQ,EAE5CX,EAAUe,EAASC,CAAK,EACrB,KAAKX,GAAO,CACX,GAAIA,EAAI,KAAK,SAAW,EAAG,CACzBc,EAAS,MAAMR,CAAQ,EACvB,MACD,CAED,MAAM,YAAYN,EAAI,KAAK,SAAS,EACpCQ,EAAQ,UAAYN,EAAaF,EAAI,IAAI,CAC/C,CAAK,EACA,MAAM,QAAQ,GAAG,EAEpBa,EAAE,cAAc,OAClB,CAEAJ,EAAM,iBAAiB,QAAS,IAAM,CACpCA,EAAM,gBAAgB,aAAa,CACrC,CAAC,EACDA,EAAM,iBAAiB,OAAQ,IAAM,CACnCA,EAAM,aAAa,cAAe,kBAAkB,CACtD,CAAC"}